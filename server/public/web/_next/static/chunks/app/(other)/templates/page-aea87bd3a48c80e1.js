(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[454],{393:function(e,s,t){Promise.resolve().then(t.bind(t,99607))},99607:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return _}});var a=t(11403),l=t(76554),r=t(62011),c=t(28353),n=t(3523),o=t(55989),i=t(9023),h=t(17063),m=t(75878),d=t(34453),x=t(33596),p=t(53136),u=t(86228),f=t(46845),j=t(82390),g=t(71485),w=t(70298),N=t.n(w),b=t(61616),v=t.n(b),k=e=>{let{id:s,name:t,cover:l,description:r,create_time:n}=e,[w]=(0,o.o)(e=>[e.setTemplates]),b=async e=>{await fetch("".concat("http://localhost:4060","/templates/").concat(e),{method:"DELETE"});let s=await fetch("".concat("http://localhost:4060","/templates"));s.ok&&w(await s.json())},{isOpen:k,onOpenChange:y,onOpen:_}=(0,i.q)();return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(h.w,{isPressable:!0,as:v(),href:"/templates/".concat(s),isFooterBlurred:!0,className:" h-[300px] w-[200px] relative cursor-pointer",children:[(0,a.jsxs)(m.u,{className:"absolute z-10 top-0 flex flex-col items-start text-white  backdrop-blur-sm",children:[(0,a.jsx)("p",{className:"font-bold",children:t}),(0,a.jsx)("p",{className:"text-xs",children:r})]}),(0,a.jsx)(d.J,{removeWrapper:!0,isZoomed:!0,className:" w-full h-full object-cover z-0",src:l}),(0,a.jsxs)(x.i,{className:"absolute z-10 bottom-0 flex flex-row",children:[(0,a.jsx)("p",{className:"text-xs",children:N()(n).format("YYYY/MM/DD HH:mm:ss")}),(0,a.jsx)(c.A,{size:"sm",color:"danger",onClick:e=>{e.preventDefault(),e.stopPropagation(),_()},children:"删除"})]})]}),(0,a.jsx)(p.R,{isOpen:k,onOpenChange:y,children:(0,a.jsx)(u.A,{children:e=>(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(f.k,{className:"flex flex-col gap-1",children:"警告"}),(0,a.jsxs)(j.I,{children:["确认删除模版","(".concat(t,")"),"吗？"]}),(0,a.jsxs)(g.R,{children:[(0,a.jsx)(c.A,{color:"primary",variant:"light",onPress:e,children:"取消"}),(0,a.jsx)(c.A,{color:"danger",variant:"light",onPress:()=>{b(s),e()},children:"确认"})]})]})})})]})};async function y(){let e=await fetch("".concat("http://localhost:4060","/templates"));return await e.json()}function _(){let[e,s]=(0,o.o)(e=>[e.templates,e.setTemplates]);return(0,l.useEffect)(()=>{y().then(e=>{s(e)})},[]),(0,a.jsxs)("div",{className:"grid w-4/5 mx-auto py-6 gap-4 grid-cols-5 max-xl:grid-cols-4 max-lg:grid-cols-3 max-sm:grid-cols-2",children:[e.map(e=>(0,a.jsx)(k,{...e},e.id)),(0,a.jsx)(r.e,{showArrow:!0,content:"添加模版",children:(0,a.jsx)(c.A,{className:"fixed bottom-20 right-20 h-16 scale-75",variant:"shadow",color:"primary",size:"sm",style:{borderRadius:"50%"},as:v(),href:"/templates/create",children:(0,a.jsx)(n.Z,{className:"w-7 h-7"})})})]})}},55989:function(e,s,t){"use strict";t.d(s,{o:function(){return c}});var a=t(50949),l=t(37471),r=t(27555);let c=(0,a.Ue)((0,l.tJ)((0,r.n)(e=>({theme:"light",templates:[],setTheme:s=>{e(e=>{e.theme=s})},setTemplates:s=>{e(e=>{e.templates=s})}})),{name:"comfyui_automa_store",skipHydration:!0}))}},function(e){e.O(0,[485,336,500,472,111,908,58,442,744],function(){return e(e.s=393)}),_N_E=e.O()}]);
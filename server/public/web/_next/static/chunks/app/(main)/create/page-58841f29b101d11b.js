(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[50],{7884:function(e,t,r){Promise.resolve().then(r.bind(r,29256))},58075:function(e,t,r){"use strict";r.d(t,{R:function(){return s},s:function(){return a}});let s=async e=>{let{queryKey:t}=e;try{let e=await fetch("".concat("http://localhost:4060").concat(t[0]));if(!e.ok)throw Error("Something went wrong ".concat(t[0]));return await e.json()}catch(e){throw Error(e)}},a=(e,t)=>async r=>{try{let s=await fetch("".concat("http://localhost:4060").concat(e),{method:t,headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(!s.ok)throw Error("Something went wrong ".concat(t," ").concat(e));return await s.json()}catch(e){throw Error(e)}}},29256:function(e,t,r){"use strict";r.r(t);var s=r(33584),a=r(58075),i=r(43070),n=r(58e3),l=r(54921),o=r(57912),c=r(10),u=r(78502),d=r(26907),h=r(27272),p=r(65325),f=r(46008),m=r(67930),b=r(20581),g=r(93527),v=r(87337),y=r(77722),w=r(28938),x=r(23137),R=r.n(x),I=r(47991),j=r(13920);let{TextArea:C}=b.default;t.default=()=>{let e=(0,d.NL)(),{data:t,isSuccess:r}=(0,h.a)({queryKey:["/templates"]}),[x,O]=w.ZP.useMessage(),{mutate:J}=(0,p.D)({mutationFn:(0,a.s)("/default","post")}),Q=(0,j.useMemo)(()=>{if(r)return t.map(e=>({label:e.name,value:e.id}))},[t]),[E]=m.Z.useForm(),[S,k]=(0,j.useState)(!1),[F,T]=(0,j.useState)(""),[U,N]=(0,j.useState)(""),P=async e=>{let t=URL.createObjectURL(e.originFileObj);T(t),k(!0),N(e.name||e.url.substring(e.url.lastIndexOf("/")+1))},D=(0,I.useRouter)(),z=async()=>{let r=await E.validateFields();if(r.cover?r.cover=r.cover[0].response.url[0]:r.cover="/web/default.png",t&&(null==r?void 0:r.template_id)){let e=t.find(e=>e.id===r.template_id);r.fields=null==e?void 0:e.fields}else r.fields=[];null==r||delete r.template_id,J(r,{onError(e){x.error(e.message,1)},onSuccess(){e.invalidateQueries({queryKey:["/default"]}),x.success("添加成功",1).then(()=>{D.push("/")})}})};return(0,s.jsxs)(s.Fragment,{children:[O,(0,s.jsxs)(l.w,{children:[(0,s.jsx)(o.u,{children:(0,s.jsx)(f.Z,{items:[{title:(0,s.jsx)(R(),{href:"/",children:(0,s.jsx)(i.Z,{})})},{title:(0,s.jsx)("span",{children:"添加数据集"})}]})}),(0,s.jsx)(c.G,{children:(0,s.jsxs)("div",{className:"mx-auto mt-5 w-1/2 min-w-[550px]",children:[(0,s.jsxs)(m.Z,{name:"template",labelCol:{span:4},wrapperCol:{span:20},form:E,children:[(0,s.jsx)(m.Z.Item,{name:"name",label:"数据集名称",rules:[{required:!0}],children:(0,s.jsx)(b.default,{})}),(0,s.jsx)(m.Z.Item,{name:"description",label:"数据集描述",rules:[{required:!0}],children:(0,s.jsx)(C,{rows:3})}),(0,s.jsx)(m.Z.Item,{label:"数据集封面",name:"cover",valuePropName:"fileList",getValueFromEvent:e=>Array.isArray(e)?e:null==e?void 0:e.fileList,children:(0,s.jsx)(y.default,{action:"http://127.0.0.1:4060/upload",onPreview:P,accept:".png,.jpg,.jpeg,.webp",maxCount:1,listType:"picture-card",children:(0,s.jsxs)("div",{children:[(0,s.jsx)(n.Z,{}),(0,s.jsx)("div",{style:{marginTop:8},children:"Upload"})]})})}),(0,s.jsx)(m.Z.Item,{name:"template_id",label:"模版",rules:[{required:!0}],children:(0,s.jsx)(v.default,{placeholder:"请选择模版",options:Q,allowClear:!0})}),(0,s.jsx)("div",{className:"mt-6",children:(0,s.jsx)(u.A,{color:"primary",className:"w-full",variant:"shadow",onClick:z,children:"添加数据集"})})]}),(0,s.jsx)(g.Z,{open:S,title:U,footer:null,onCancel:()=>{T(""),k(!1),N("")},children:(0,s.jsx)("img",{alt:"example",style:{width:"100%"},src:F})})]})})]})]})}},78502:function(e,t,r){"use strict";r.d(t,{A:function(){return C}});var[s,a]=(0,r(31129).k)({name:"ButtonGroupContext",strict:!1}),i=r(40697),n=r(13920),l=r(72315),o=r(3037),c=r(71986),u=r(98110),d=r(14436),h=r(99437),p=r(89154),f=(0,h.tv)({base:["z-0","group","relative","inline-flex","items-center","justify-center","box-border","appearance-none","outline-none","select-none","whitespace-nowrap","min-w-max","font-normal","subpixel-antialiased","overflow-hidden","tap-highlight-transparent",...p.Dh],variants:{variant:{solid:"",bordered:"border-medium bg-transparent",light:"bg-transparent",flat:"",faded:"border-medium",shadow:"",ghost:"border-medium bg-transparent"},size:{sm:"px-unit-3 min-w-unit-16 h-unit-8 text-tiny gap-unit-2 rounded-small",md:"px-unit-4 min-w-unit-20 h-unit-10 text-small gap-unit-2 rounded-medium",lg:"px-unit-6 min-w-unit-24 h-unit-12 text-medium gap-unit-3 rounded-large"},color:{default:"",primary:"",secondary:"",success:"",warning:"",danger:""},radius:{none:"rounded-none",sm:"rounded-small",md:"rounded-medium",lg:"rounded-large",full:"rounded-full"},fullWidth:{true:"w-full"},isDisabled:{true:"opacity-disabled pointer-events-none"},isInGroup:{true:"[&:not(:first-child):not(:last-child)]:rounded-none"},isIconOnly:{true:"px-unit-0 !gap-unit-0",false:"[&>svg]:max-w-[theme(spacing.unit-8)]"},disableAnimation:{true:"!transition-none",false:"data-[pressed=true]:scale-[0.97] transition-transform-colors motion-reduce:transition-none"}},defaultVariants:{size:"md",variant:"solid",color:"default",fullWidth:!1,isDisabled:!1,isInGroup:!1,disableAnimation:!1},compoundVariants:[{variant:"solid",color:"default",class:d.J.solid.default},{variant:"solid",color:"primary",class:d.J.solid.primary},{variant:"solid",color:"secondary",class:d.J.solid.secondary},{variant:"solid",color:"success",class:d.J.solid.success},{variant:"solid",color:"warning",class:d.J.solid.warning},{variant:"solid",color:"danger",class:d.J.solid.danger},{variant:"shadow",color:"default",class:d.J.shadow.default},{variant:"shadow",color:"primary",class:d.J.shadow.primary},{variant:"shadow",color:"secondary",class:d.J.shadow.secondary},{variant:"shadow",color:"success",class:d.J.shadow.success},{variant:"shadow",color:"warning",class:d.J.shadow.warning},{variant:"shadow",color:"danger",class:d.J.shadow.danger},{variant:"bordered",color:"default",class:d.J.bordered.default},{variant:"bordered",color:"primary",class:d.J.bordered.primary},{variant:"bordered",color:"secondary",class:d.J.bordered.secondary},{variant:"bordered",color:"success",class:d.J.bordered.success},{variant:"bordered",color:"warning",class:d.J.bordered.warning},{variant:"bordered",color:"danger",class:d.J.bordered.danger},{variant:"flat",color:"default",class:d.J.flat.default},{variant:"flat",color:"primary",class:d.J.flat.primary},{variant:"flat",color:"secondary",class:d.J.flat.secondary},{variant:"flat",color:"success",class:d.J.flat.success},{variant:"flat",color:"warning",class:d.J.flat.warning},{variant:"flat",color:"danger",class:d.J.flat.danger},{variant:"faded",color:"default",class:d.J.faded.default},{variant:"faded",color:"primary",class:d.J.faded.primary},{variant:"faded",color:"secondary",class:d.J.faded.secondary},{variant:"faded",color:"success",class:d.J.faded.success},{variant:"faded",color:"warning",class:d.J.faded.warning},{variant:"faded",color:"danger",class:d.J.faded.danger},{variant:"light",color:"default",class:[d.J.light.default,"data-[hover=true]:bg-default/40"]},{variant:"light",color:"primary",class:[d.J.light.primary,"data-[hover=true]:bg-primary/20"]},{variant:"light",color:"secondary",class:[d.J.light.secondary,"data-[hover=true]:bg-secondary/20"]},{variant:"light",color:"success",class:[d.J.light.success,"data-[hover=true]:bg-success/20"]},{variant:"light",color:"warning",class:[d.J.light.warning,"data-[hover=true]:bg-warning/20"]},{variant:"light",color:"danger",class:[d.J.light.danger,"data-[hover=true]:bg-danger/20"]},{variant:"ghost",color:"default",class:d.J.ghost.default},{variant:"ghost",color:"primary",class:d.J.ghost.primary},{variant:"ghost",color:"secondary",class:d.J.ghost.secondary},{variant:"ghost",color:"success",class:d.J.ghost.success},{variant:"ghost",color:"warning",class:d.J.ghost.warning},{variant:"ghost",color:"danger",class:d.J.ghost.danger},{isInGroup:!0,size:"sm",class:"rounded-none first:rounded-l-small last:rounded-r-small"},{isInGroup:!0,size:"md",class:"rounded-none first:rounded-l-medium last:rounded-r-medium"},{isInGroup:!0,size:"lg",class:"rounded-none first:rounded-l-large last:rounded-r-large"},{isInGroup:!0,isRounded:!0,class:"rounded-none first:rounded-l-full last:rounded-r-full"},{isInGroup:!0,variant:["bordered","ghost"],class:"[&:not(:first-child)]:ml-[calc(theme(borderWidth.medium)*-1)]"},{isIconOnly:!0,size:"sm",class:"min-w-unit-8 w-unit-8 h-unit-8"},{isIconOnly:!0,size:"md",class:"min-w-unit-10 w-unit-10 h-unit-10"},{isIconOnly:!0,size:"lg",class:"min-w-unit-12 w-unit-12 h-unit-12"}]});(0,h.tv)({base:"inline-flex items-center justify-center h-auto",variants:{fullWidth:{true:"w-full"}},defaultVariants:{fullWidth:!1}});var m=r(97107),b=r(22553),g=r(36115),v=r(53800),y=(0,h.tv)({slots:{base:"relative inline-flex flex-col gap-2 items-center justify-center",wrapper:"relative flex",circle1:["absolute","w-full","h-full","rounded-full","animate-spinner-ease-spin","border-2","border-solid","border-t-transparent","border-l-transparent","border-r-transparent"],circle2:["absolute","w-full","h-full","rounded-full","opacity-75","animate-spinner-linear-spin","border-2","border-dotted","border-t-transparent","border-l-transparent","border-r-transparent"],label:"text-foreground dark:text-foreground-dark font-regular"},variants:{size:{sm:{wrapper:"w-5 h-5",circle1:"border-2",circle2:"border-2",label:"text-small"},md:{wrapper:"w-8 h-8",circle1:"border-3",circle2:"border-3",label:"text-medium"},lg:{wrapper:"w-10 h-10",circle1:"border-3",circle2:"border-3",label:"text-large"}},color:{current:{circle1:"border-b-current",circle2:"border-b-current"},white:{circle1:"border-b-white",circle2:"border-b-white"},default:{circle1:"border-b-default",circle2:"border-b-default"},primary:{circle1:"border-b-primary",circle2:"border-b-primary"},secondary:{circle1:"border-b-secondary",circle2:"border-b-secondary"},success:{circle1:"border-b-success",circle2:"border-b-success"},warning:{circle1:"border-b-warning",circle2:"border-b-warning"},danger:{circle1:"border-b-danger",circle2:"border-b-danger"}},labelColor:{foreground:{label:"text-foreground"},primary:{label:"text-primary"},secondary:{label:"text-secondary"},success:{label:"text-success"},warning:{label:"text-warning"},danger:{label:"text-danger"}}},defaultVariants:{size:"md",color:"primary",labelColor:"foreground"}}),w=r(29179),x=r(33584),R=(0,v.Gp)((e,t)=>{let{slots:r,classNames:s,label:a,getSpinnerProps:i}=function(e){let[t,r]=(0,v.oe)(e,y.variantKeys),{children:s,className:a,classNames:i,label:l,...o}=t,c=(0,n.useMemo)(()=>y({...r}),[...Object.values(r)]),u=(0,w.W)(null==i?void 0:i.base,a),d=l||s,h=(0,n.useMemo)(()=>d&&"string"==typeof d?d:o["aria-label"]?"":"Loading",[s,d,o["aria-label"]]),p=(0,n.useCallback)(()=>({"aria-label":h,className:c.base({class:u}),...o}),[h,c,u,o]);return{label:d,slots:c,classNames:i,getSpinnerProps:p}}({...e});return(0,x.jsxs)("div",{ref:t,...i(),children:[(0,x.jsxs)("div",{className:r.wrapper({class:null==s?void 0:s.wrapper}),children:[(0,x.jsx)("i",{className:r.circle1({class:null==s?void 0:s.circle1})}),(0,x.jsx)("i",{className:r.circle2({class:null==s?void 0:s.circle2})})]}),a&&(0,x.jsx)("span",{className:r.label(),children:a})]})});R.displayName="NextUI.Spinner";var I=r(68247),j=(0,v.Gp)((e,t)=>{let{Component:r,domRef:s,children:d,styles:h,ripples:p,spinnerSize:v,spinner:y=(0,x.jsx)(R,{color:"current",size:v}),spinnerPlacement:w,startContent:j,endContent:C,isLoading:O,disableRipple:J,getButtonProps:Q}=function(e){var t,r,s,d,h,p,v,y;let w=a(),x=!!w,{ref:R,as:I,children:j,startContent:C,endContent:O,autoFocus:J,className:Q,spinner:E,fullWidth:S=null!=(t=null==w?void 0:w.fullWidth)&&t,size:k=null!=(r=null==w?void 0:w.size)?r:"md",color:F=null!=(s=null==w?void 0:w.color)?s:"default",variant:T=null!=(d=null==w?void 0:w.variant)?d:"solid",disableAnimation:U=null!=(h=null==w?void 0:w.disableAnimation)&&h,radius:N=null==w?void 0:w.radius,disableRipple:P=null!=(p=null==w?void 0:w.disableRipple)&&p,isDisabled:D=null!=(v=null==w?void 0:w.isDisabled)&&v,isIconOnly:z=null!=(y=null==w?void 0:w.isIconOnly)&&y,isLoading:L=!1,spinnerPlacement:A="start",onPress:M,onClick:_,...G}=e,W=I||"button",Z="string"==typeof W,q=(0,c.gy)(R),{isFocusVisible:V,isFocused:B,focusProps:K}=(0,l.Fx)({autoFocus:J}),X=D||L,H=(0,n.useMemo)(()=>f({size:k,color:F,variant:T,radius:N,fullWidth:S,isDisabled:X,isInGroup:x,disableAnimation:U,isIconOnly:z,className:Q}),[k,F,T,N,S,X,x,z,U,Q]),{onClick:Y,ripples:$}=(0,g.i)(),ee=(0,n.useCallback)(e=>{P||X||U||!q.current||Y(e)},[P,X,U,q,Y]),{buttonProps:et,isPressed:er}=(0,m.j)({elementType:I,isDisabled:X,onPress:M,onClick:(0,o.tS)(_,ee),...G},q),{isHovered:es,hoverProps:ea}=(0,b.XI)({isDisabled:X}),ei=(0,n.useCallback)((e={})=>({"data-disabled":(0,i.PB)(X),"data-focus":(0,i.PB)(B),"data-pressed":(0,i.PB)(er),"data-focus-visible":(0,i.PB)(V),"data-hover":(0,i.PB)(es),"data-loading":(0,i.PB)(L),...(0,o.dG)(et,K,ea,(0,u.z)(G,{enabled:Z}),(0,u.z)(e))}),[L,X,B,er,Z,V,es,et,K,ea,G]),en=e=>(0,n.isValidElement)(e)?(0,n.cloneElement)(e,{"aria-hidden":!0,focusable:!1,tabIndex:-1}):null,el=en(C),eo=en(O),ec=(0,n.useMemo)(()=>({sm:"sm",md:"sm",lg:"md"})[k],[k]);return{Component:W,children:j,domRef:q,ripples:$,spinner:E,styles:H,startContent:el,endContent:eo,isLoading:L,spinnerPlacement:A,spinnerSize:ec,disableRipple:P,getButtonProps:ei}}({...e,ref:t});return(0,x.jsxs)(r,{ref:s,className:h,...Q(),children:[j,O&&"start"===w&&y,d,O&&"end"===w&&y,C,!J&&(0,x.jsx)(I.L,{ripples:p})]})});j.displayName="NextUI.Button";var C=j},27272:function(e,t,r){"use strict";let s;r.d(t,{a:function(){return Q}});var a=r(87873),i=r(84460),n=r(43961),l=r(9333),o=r(55293),c=class extends l.l{constructor(e,t){super(),this.#e=void 0,this.#t=void 0,this.#r=void 0,this.#s=new Set,this.#a=e,this.options=t,this.#i=null,this.bindMethods(),this.setOptions(t)}#a;#e;#t;#r;#n;#l;#i;#o;#c;#u;#d;#h;#p;#s;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){1===this.listeners.size&&(this.#e.addObserver(this),u(this.#e,this.options)&&this.#f(),this.#m())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return d(this.#e,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return d(this.#e,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#g(),this.#e.removeObserver(this)}setOptions(e,t){let r=this.options,s=this.#e;if(this.options=this.#a.defaultQueryOptions(e),(0,a.VS)(r,this.options)||this.#a.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#e,observer:this}),void 0!==this.options.enabled&&"boolean"!=typeof this.options.enabled)throw Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=r.queryKey),this.#v();let i=this.hasListeners();i&&h(this.#e,s,this.options,r)&&this.#f(),this.updateResult(t),i&&(this.#e!==s||this.options.enabled!==r.enabled||this.options.staleTime!==r.staleTime)&&this.#y();let n=this.#w();i&&(this.#e!==s||this.options.enabled!==r.enabled||n!==this.#p)&&this.#x(n)}getOptimisticResult(e){let t=this.#a.getQueryCache().build(this.#a,e),r=this.createResult(t,e);return(0,a.VS)(this.getCurrentResult(),r)||(this.#r=r,this.#l=this.options,this.#n=this.#e.state),r}getCurrentResult(){return this.#r}trackResult(e){let t={};return Object.keys(e).forEach(r=>{Object.defineProperty(t,r,{configurable:!1,enumerable:!0,get:()=>(this.#s.add(r),e[r])})}),t}getCurrentQuery(){return this.#e}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){let t=this.#a.defaultQueryOptions(e),r=this.#a.getQueryCache().build(this.#a,t);return r.isFetchingOptimistic=!0,r.fetch().then(()=>this.createResult(r,t))}fetch(e){return this.#f({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#r))}#f(e){this.#v();let t=this.#e.fetch(this.options,e);return e?.throwOnError||(t=t.catch(a.ZT)),t}#y(){if(this.#b(),a.sk||this.#r.isStale||!(0,a.PN)(this.options.staleTime))return;let e=(0,a.Kp)(this.#r.dataUpdatedAt,this.options.staleTime);this.#d=setTimeout(()=>{this.#r.isStale||this.updateResult()},e+1)}#w(){return("function"==typeof this.options.refetchInterval?this.options.refetchInterval(this.#r.data,this.#e):this.options.refetchInterval)??!1}#x(e){this.#g(),this.#p=e,!a.sk&&!1!==this.options.enabled&&(0,a.PN)(this.#p)&&0!==this.#p&&(this.#h=setInterval(()=>{(this.options.refetchIntervalInBackground||n.j.isFocused())&&this.#f()},this.#p))}#m(){this.#y(),this.#x(this.#w())}#b(){this.#d&&(clearTimeout(this.#d),this.#d=void 0)}#g(){this.#h&&(clearInterval(this.#h),this.#h=void 0)}createResult(e,t){let r;let s=this.#e,i=this.options,n=this.#r,l=this.#n,c=this.#l,d=e!==s,f=d?e.state:this.#t,{state:m}=e,{error:b,errorUpdatedAt:g,fetchStatus:v,status:y}=m,w=!1;if(t._optimisticResults){let r=this.hasListeners(),a=!r&&u(e,t),n=r&&h(e,s,t,i);(a||n)&&(v=(0,o.Kw)(e.options.networkMode)?"fetching":"paused",m.dataUpdatedAt||(y="pending")),"isRestoring"===t._optimisticResults&&(v="idle")}if(t.select&&void 0!==m.data){if(n&&m.data===l?.data&&t.select===this.#o)r=this.#c;else try{this.#o=t.select,r=t.select(m.data),r=(0,a.oE)(n?.data,r,t),this.#c=r,this.#i=null}catch(e){this.#i=e}}else r=m.data;if(void 0!==t.placeholderData&&void 0===r&&"pending"===y){let e;if(n?.isPlaceholderData&&t.placeholderData===c?.placeholderData)e=n.data;else if(e="function"==typeof t.placeholderData?t.placeholderData(this.#u?.state.data,this.#u):t.placeholderData,t.select&&void 0!==e)try{e=t.select(e),this.#i=null}catch(e){this.#i=e}void 0!==e&&(y="success",r=(0,a.oE)(n?.data,e,t),w=!0)}this.#i&&(b=this.#i,r=this.#c,g=Date.now(),y="error");let x="fetching"===v,R="pending"===y,I="error"===y,j=R&&x,C={status:y,fetchStatus:v,isPending:R,isSuccess:"success"===y,isError:I,isInitialLoading:j,isLoading:j,data:r,dataUpdatedAt:m.dataUpdatedAt,error:b,errorUpdatedAt:g,failureCount:m.fetchFailureCount,failureReason:m.fetchFailureReason,errorUpdateCount:m.errorUpdateCount,isFetched:m.dataUpdateCount>0||m.errorUpdateCount>0,isFetchedAfterMount:m.dataUpdateCount>f.dataUpdateCount||m.errorUpdateCount>f.errorUpdateCount,isFetching:x,isRefetching:x&&!R,isLoadingError:I&&0===m.dataUpdatedAt,isPaused:"paused"===v,isPlaceholderData:w,isRefetchError:I&&0!==m.dataUpdatedAt,isStale:p(e,t),refetch:this.refetch};return C}updateResult(e){let t=this.#r,r=this.createResult(this.#e,this.options);if(this.#n=this.#e.state,this.#l=this.options,(0,a.VS)(r,t))return;void 0!==this.#n.data&&(this.#u=this.#e),this.#r=r;let s={};e?.listeners!==!1&&(()=>{if(!t)return!0;let{notifyOnChangeProps:e}=this.options,r="function"==typeof e?e():e;if("all"===r||!r&&!this.#s.size)return!0;let s=new Set(r??this.#s);return this.options.throwOnError&&s.add("error"),Object.keys(this.#r).some(e=>{let r=this.#r[e]!==t[e];return r&&s.has(e)})})()&&(s.listeners=!0),this.#R({...s,...e})}#v(){let e=this.#a.getQueryCache().build(this.#a,this.options);if(e===this.#e)return;let t=this.#e;this.#e=e,this.#t=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#m()}#R(e){i.V.batch(()=>{e.listeners&&this.listeners.forEach(e=>{e(this.#r)}),this.#a.getQueryCache().notify({query:this.#e,type:"observerResultsUpdated"})})}};function u(e,t){return!1!==t.enabled&&!e.state.dataUpdatedAt&&!("error"===e.state.status&&!1===t.retryOnMount)||e.state.dataUpdatedAt>0&&d(e,t,t.refetchOnMount)}function d(e,t,r){if(!1!==t.enabled){let s="function"==typeof r?r(e):r;return"always"===s||!1!==s&&p(e,t)}return!1}function h(e,t,r,s){return!1!==r.enabled&&(e!==t||!1===s.enabled)&&(!r.suspense||"error"!==e.state.status)&&p(e,r)}function p(e,t){return e.isStaleByTime(t.staleTime)}var f=r(13920),m=f.createContext((s=!1,{clearReset:()=>{s=!1},reset:()=>{s=!0},isReset:()=>s})),b=()=>f.useContext(m),g=r(26907),v=f.createContext(!1),y=()=>f.useContext(v);v.Provider;var w=r(68769),x=(e,t)=>{(e.suspense||e.throwOnError)&&!t.isReset()&&(e.retryOnMount=!1)},R=e=>{f.useEffect(()=>{e.clearReset()},[e])},I=({result:e,errorResetBoundary:t,throwOnError:r,query:s})=>e.isError&&!t.isReset()&&!e.isFetching&&(0,w.L)(r,[e.error,s]),j=e=>{e.suspense&&"number"!=typeof e.staleTime&&(e.staleTime=1e3)},C=(e,t)=>e.isLoading&&e.isFetching&&!t,O=(e,t,r)=>e?.suspense&&C(t,r),J=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function Q(e,t){return function(e,t,r){let s=(0,g.NL)(r),a=y(),n=b(),l=s.defaultQueryOptions(e);l._optimisticResults=a?"isRestoring":"optimistic",j(l),x(l,n),R(n);let[o]=f.useState(()=>new t(s,l)),c=o.getOptimisticResult(l);if(f.useSyncExternalStore(f.useCallback(e=>{let t=a?()=>void 0:o.subscribe(i.V.batchCalls(e));return o.updateResult(),t},[o,a]),()=>o.getCurrentResult(),()=>o.getCurrentResult()),f.useEffect(()=>{o.setOptions(l,{listeners:!1})},[l,o]),O(l,c,a))throw J(l,o,n);if(I({result:c,errorResetBoundary:n,throwOnError:l.throwOnError,query:o.getCurrentQuery()}))throw c.error;return l.notifyOnChangeProps?c:o.trackResult(c)}(e,c,t)}}},function(e){e.O(0,[135,326,635,170,171,11,869,239,945,722,337,940,577,56,744],function(){return e(e.s=7884)}),_N_E=e.O()}]);